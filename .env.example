# ───────────────────────────────
# General
# ───────────────────────────────
LOG_LEVEL=INFO
ATLAS_LOG_DIR=logs
ATLAS_LOG_LEVEL=INFO
ATLAS_LOG_FILE=logs/atlas.log
ATLAS_LOG_MAX_BYTES=5242880 # 5MB
ATLAS_LOG_BACKUP_COUNT=5
UI_THEME_DEFAULT=silver-dark
# Encryption key for database-backed secrets (Fernet, base64-encoded 32 bytes)
ATLAS_SECRET_KEY=

# ───────────────────────────────
# Module System (Optional)
# ───────────────────────────────
# Control which integration modules are enabled
# By default, all modules are enabled unless explicitly disabled
# You can control modules in three ways (in priority order):
#   1. Database configuration (via web UI /admin/modules)
#   2. Per-module environment variable (ATLAS_MODULE_<NAME>_ENABLED)
#   3. Global comma-separated list (ATLAS_MODULES_ENABLED)
#
# Example: Enable only specific modules
# ATLAS_MODULES_ENABLED=netbox,vcenter
#
# Example: Disable specific modules
# ATLAS_MODULE_COMMVAULT_ENABLED=0
# ATLAS_MODULE_ZABBIX_ENABLED=0

# ───────────────────────────────
# HTTPS (optional)
# Run API server with TLS if both are set
# ATLAS_SSL_CERTFILE=certs/localhost.pem
# ATLAS_SSL_KEYFILE=certs/localhost-key.pem
# If your key is encrypted:
# ATLAS_SSL_KEY_PASSWORD=

# ───────────────────────────────
# Authentication (optional)
# API: Bearer token for protected endpoints
# ATLAS_API_TOKEN=choose-a-strong-token
# UI: /app login (session-based)
# ATLAS_UI_PASSWORD=choose-a-strong-password
# UI session secret (long random string). If omitted, generated at start.
# ATLAS_UI_SECRET=change-me-long-random-string
# Bootstrap admin (when DB empty)
# ATLAS_DEFAULT_ADMIN_USERNAME=admin
# ATLAS_DEFAULT_ADMIN_PASSWORD=choose-a-strong-password

# ───────────────────────────────
# Database (optional; defaults to sqlite in ./data)
# ───────────────────────────────
# ATLAS_DB_URL=sqlite:///data/atlas.sqlite3

# ───────────────────────────────
# NetBox
# ───────────────────────────────
NETBOX_URL=https://netbox.example.com
NETBOX_TOKEN=your_api_token_here
# Extra (optional)
NETBOX_DEBUG=0
NETBOX_EXTRA_HEADERS=
NETBOX_DATA_DIR=data
NETBOX_XLSX_ORDER_FILE=

# ───────────────────────────────
# Atlassian / Confluence
# ───────────────────────────────
# Generate token: https://id.atlassian.com/manage-profile/security/api-tokens
ATLASSIAN_BASE_URL=https://your-domain.atlassian.net
ATLASSIAN_EMAIL=your_email@company.com
ATLASSIAN_API_TOKEN=your_api_token_here

# Confluence publishing
# Page receiving the CMDB Excel
CONFLUENCE_CMDB_PAGE_ID=
# Optional overrides
CONFLUENCE_DEVICES_PAGE_ID=
CONFLUENCE_VMS_PAGE_ID=
# Optional macros (Table Filter & Charts app required)
# CONFLUENCE_ENABLE_TABLE_FILTER=1
# CONFLUENCE_ENABLE_TABLE_SORT=1

# ───────────────────────────────
# Monitoring (Zabbix)
# ───────────────────────────────
ZABBIX_API_URL=https://zabbix.example.com/api_jsonrpc.php
# Optional alternates/links
ZABBIX_HOST=https://zabbix.example.com
ZABBIX_WEB_URL=https://zabbix.example.com
ZABBIX_API_TOKEN=
ZABBIX_SEVERITIES=2,3,4
ZABBIX_GROUP_ID=
ZABBIX_EXCLUDE_GROUP_PATTERNS=Autoconfig%

# ───────────────────────────────
# Backup Storage
# ───────────────────────────────
# Backup type: sftp, scp, or local
BACKUP_ENABLE=1
BACKUP_TYPE=local

# SFTP/SCP Configuration (when BACKUP_TYPE=sftp or scp)
BACKUP_HOST=backup.example.com
BACKUP_PORT=22
BACKUP_USERNAME=backup_user
BACKUP_PASSWORD=your_password_here
# Alternative: use private key instead of password
# BACKUP_PRIVATE_KEY_PATH=~/.ssh/id_rsa
BACKUP_REMOTE_PATH=/backups/infrastructure_atlas

# Local Backup Configuration (when BACKUP_TYPE=local)
BACKUP_LOCAL_PATH=backups

# Optional: Create timestamped subdirectories for each backup
BACKUP_CREATE_TIMESTAMPED_DIRS=false
# Optional: Compress backups (future feature)
BACKUP_COMPRESS=false
